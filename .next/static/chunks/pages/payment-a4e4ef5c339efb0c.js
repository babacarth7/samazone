(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{7864:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment",function(){return s(8714)}])},6686:function(e,t,s){"use strict";var n=s(5893);s(7294),t.Z=function(e){let{activeStep:t=0}=e;return(0,n.jsx)("div",{className:"mb-5 flex flex-wrap",children:["User Login","Shipping Address","Payment Method","Place Order"].map((e,s)=>(0,n.jsx)("div",{className:"flex-1 border-b-2  \n            text-center \n            ".concat(s<=t?"border-indigo-500   text-indigo-500":"border-gray-400 text-gray-400","\n          \n            "),children:e},e))})}},7807:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var n=s(5893),r=s(9008),i=s.n(r),a=s(1664),l=s.n(a),c=s(4173),d=s(4962);s(1691);var o=s(7294),m=s(4917),h=s(3299),u=function(e){let{href:t,children:s,...r}=e;return(0,n.jsx)(l(),{href:t,...r,children:s})},x=s(1955),p=function(e){let{title:t,children:s}=e,{status:r,data:a}=(0,h.useSession)(),{state:p,dispatch:f}=(0,o.useContext)(m.y),{cart:j}=p,[b,N]=(0,o.useState)(0);return(0,o.useEffect)(()=>{N(j.cartItems.reduce((e,t)=>e+t.quantity,0))},[j.cartItems]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:t?t+" - App E-Commerce":"App E-Commerce"}),(0,n.jsx)("meta",{name:"description",content:"Application Web E-Commerce"})]}),(0,n.jsx)(c.Ix,{position:"bottom-center",limit:1}),(0,n.jsxs)("div",{className:"flex min-h-screen flex-col justify-between",children:[(0,n.jsx)("header",{children:(0,n.jsxs)("nav",{className:"flex h-12 items-center px-4 justify-between shadow-md",children:[(0,n.jsx)(l(),{href:"/",className:"text-lg font-bold",children:"samazone"}),(0,n.jsxs)("div",{className:"flex items-center z-10",children:[(0,n.jsxs)(l(),{href:"/cart",className:"p-2 text-blue-500",children:["Cart",b>0&&(0,n.jsx)("span",{className:"ml-1 rounded-full bg-red-600 px-2 py-1 text-xs font-bold text-white",children:b})]}),"loading"===r?"Loading":(null==a?void 0:a.user)?(0,n.jsxs)(d.v,{as:"div",className:"relative inline-block",children:[(0,n.jsx)(d.v.Button,{className:"text-blue-500",children:a.user.name}),(0,n.jsxs)(d.v.Items,{className:"absolute right-0 w-56 origin-top-right bg-white  shadow-lg",children:[(0,n.jsx)(d.v.Item,{children:(0,n.jsx)(u,{className:"dropdown-link",href:"/profile",children:"Profile"})}),(0,n.jsx)(d.v.Item,{children:(0,n.jsx)(u,{className:"dropdown-link",href:"/order-history",children:"Order History"})}),a.user.isAdmin&&(0,n.jsx)(d.v.Item,{children:(0,n.jsx)(u,{className:"dropdown-link",href:"/admin/dashboard",children:"Admin Dashboard"})}),(0,n.jsx)(d.v.Item,{children:(0,n.jsx)("a",{className:"dropdown-link",href:"#",onClick:()=>{x.Z.remove("cart"),f({type:"CART_RESET"}),(0,h.signOut)({callbackUrl:"/login"})},children:"Logout"})})]})]}):(0,n.jsx)(l(),{href:"/login",className:"p-2 text-blue-500",children:"Login"})]})]})}),(0,n.jsx)("main",{className:"container m-auto mt-4 px-4",children:s}),(0,n.jsx)("footer",{className:"flex h-10 justify-center items-center shadow-inner",children:(0,n.jsx)("p",{children:"Copyright \xa9 2024"})})]})]})}},8714:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(5893),r=s(1163),i=s(7294),a=s(4173),l=s(1955),c=s(6686),d=s(7807),o=s(4917);function m(){let[e,t]=(0,i.useState)(""),{state:s,dispatch:m}=(0,i.useContext)(o.y),{cart:h}=s,{shippingAddress:u,paymentMethod:x}=h,p=(0,r.useRouter)();return(0,i.useEffect)(()=>{if(!u.address)return p.push("/shipping");t(x||"")},[x,p,u.address]),(0,n.jsxs)(d.Z,{title:"Payment Method",children:[(0,n.jsx)(c.Z,{activeStep:2}),(0,n.jsxs)("form",{className:"mx-auto max-w-screen-md",onSubmit:t=>{if(t.preventDefault(),!e)return a.Am.error("Payment method is required");m({type:"SAVE_PAYMENT_METHOD",payload:e}),l.Z.set("cart",JSON.stringify({...h,paymentMethod:e})),p.push("/placeorder")},children:[(0,n.jsx)("h1",{className:"mb-4 text-xl",children:"Payment Method"}),["PayPal","Stripe","CashOnDelivery"].map(s=>(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("input",{name:"paymentMethod",className:"p-2 outline-none focus:ring-0",id:s,type:"radio",checked:e===s,onChange:()=>t(s)}),(0,n.jsx)("label",{className:"p-2",htmlFor:s,children:s})]},s)),(0,n.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,n.jsx)("button",{onClick:()=>p.push("/shipping"),type:"button",className:"default-button",children:"Back"}),(0,n.jsx)("button",{className:"primary-button",children:"Next"})]})]})]})}m.auth=!0}},function(e){e.O(0,[128,888,774,179],function(){return e(e.s=7864)}),_N_E=e.O()}]);